---
import type { HTMLAttributes } from 'astro/types';

interface Props extends HTMLAttributes<'a'> {
	href: string;
	variant?: 'primary' | 'secondary';
}

const { href, variant = 'primary', class: className, ...props } = Astro.props;
const baseUrl = import.meta.env.BASE_URL;
const resolvedHref = href.startsWith('/') 
	? `${baseUrl}${baseUrl.endsWith('/') ? href.slice(1) : href}` 
	: href;
---

<a href={resolvedHref} class:list={['btn', `btn-${variant}`, className]} {...props}>
	<slot />
</a>

<style>
	.btn {
		display: inline-flex;
		align-items: center;
		justify-content: center;
		padding: 0.75em 1.75em;
		border-radius: var(--border-radius);
		text-decoration: none;
		font-weight: 500;
		font-size: 0.95em;
		transition: var(--transition);
		cursor: pointer;
		border: none;
	}
	
	.btn-primary {
		background: var(--accent);
		color: white;
	}
	
	.btn-primary:hover {
		background: var(--accent-dark);
		transform: translateY(-1px);
	}
	
	.btn-secondary {
		background: transparent;
		color: var(--accent);
		border: 1.5px solid var(--accent);
	}
	
	.btn-secondary:hover {
		background: var(--accent);
		color: white;
	}
</style>
